import{d as l,e as f,r as h}from"./axios-ec809db7.js";import{r as u,o as r,c as i,a as n,F as p,e as w,k as d,t as o,f as D,b as x}from"./index-08662fb9.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const y={data(){return{reservations:[]}},async mounted(){const t=new Date().toISOString().slice(0,10).toString();this.reservations=await l(t,"2999-01-01"),this.reservations&&this.reservations.forEach(async e=>{e.reservation_date=this.formatDate(e.reservation_date);const s=await f(e.user_id);e.last_name=s.last_name,e.first_name=s.first_name}),this.reservations=this.reservations.sort((e,s)=>new Date(e.reservation_date)-new Date(s.reservation_date))},methods:{async removeReservation(t){await h(t),this.reservations.splice(this.reservations.findIndex(e=>e.id===t),1)},formatDate(t){const e=new Date(t),s={day:"numeric",month:"long",year:"numeric"};return e.toLocaleDateString("fr-FR",s)}}},g={class:"reservations-container"},R={class:"window"},b=n("h3",null,"Les réservations",-1),S={class:"reservations-boxes"},V={class:"box reservations-box"},B=["onClick"],C={key:1};function F(t,e,s,_,c,m){const v=u("font-awesome-icon");return r(),i("div",g,[n("div",R,[b,n("div",S,[c.reservations?(r(!0),i(p,{key:0},w(c.reservations,a=>(r(),i("div",V,[n("h4",null,[d(o(a.last_name)+" "+o(a.first_name)+" - ",1),n("span",null,o(a.reservation_date)+" | "+o(a.start_time)+" à "+o(a.end_time),1)]),n("div",{class:"reservations-remove-container",tabindex:"0",onClick:D(L=>m.removeReservation(a.id),["prevent"])},[x(v,{icon:"fa-solid fa-xmark"}),d(" Annuler ")],8,B)]))),256)):(r(),i("div",C,"Vous n'avez aucune réservation"))])])])}const $=k(y,[["render",F]]);export{$ as default};
