import{g as b,a as p}from"./axios-8fdfdb3d.js";import{o,c as l,a as i,d as _,v as m,F as u,e as h,f as y,g as x,t as f,h as g}from"./index-c7ade84d.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";const w={data(){return{interval:"30",days:[{text:"monday",frenchiesText:"Lundi",disable:!1,start_time1:"09:00:00",end_time1:"12:00:00",start_time2:"13:00:00",end_time2:"17:00:00"},{text:"tuesday",frenchiesText:"Mardi",disable:!1,start_time1:"09:00:00",end_time1:"12:00:00",start_time2:"13:00:00",end_time2:"17:00:00"},{text:"wednesday",frenchiesText:"Mercredi",disable:!1,start_time1:"09:00:00",end_time1:"12:00:00",start_time2:"13:00:00",end_time2:"17:00:00"},{text:"thursday",frenchiesText:"Jeudi",disable:!1,start_time1:"09:00:00",end_time1:"12:00:00",start_time2:"13:00:00",end_time2:"17:00:00"},{text:"friday",frenchiesText:"Vendredi",disable:!1,start_time1:"09:00:00",end_time1:"12:00:00",start_time2:"13:00:00",end_time2:"17:00:00"},{text:"saturday",frenchiesText:"Samedi",disable:!0,start_time1:"09:00:00",end_time1:"12:00:00",start_time2:"13:00:00",end_time2:"17:00:00"},{text:"sunday",frenchiesText:"Dimanche",disable:!0,start_time1:"09:00:00",end_time1:"12:00:00",start_time2:"13:00:00",end_time2:"17:00:00"}],times:["06:00:00","06:30:00","07:00:00","07:30:00","08:00:00","08:30:00","09:00:00","09:30:00","10:00:00","10:30:00","11:00:00","11:30:00","12:00:00","12:30:00","13:00:00","13:30:00","14:00:00","14:30:00","15:00:00","15:30:00","16:00:00","16:30:00","17:00:00","17:30:00","18:00:00","18:30:00","19:00:00"],savedTimes:[],showSavedMessage:!1}},async mounted(){const t=await b(),n=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],r={monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1},c={monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1};if(t.length)for(const e of this.days)e.disable=!0;for(let e=0;e<t.length;e++){for(const d of this.days)t[e].day===d.text&&(d.disable=!1);for(const d of n)!r[d]&&t[e].day===d&&(r[d]=!0,this.days.find(s=>s.text===d).start_time1=t[e].start_time),e+1<t.length&&t[e].day===d&&t[e+1].day===d&&t[e+1].start_time!==t[e].end_time&&(this.days.find(s=>s.text===d).end_time1=t[e].end_time,this.days.find(s=>s.text===d).start_time2=t[e+1].start_time),!c[d]&&e+1<t.length&&t[e].day===d&&t[e+1].day!==d&&(c[d]=!0,this.days.find(s=>s.text===d).end_time2=t[e].end_time)}},methods:{getTimeWithInterval(t,n,r){const c=[];let e=n;for(;e<r;)c.push({day:t,start_time:e,end_time:this.addMinutes(e,Number(this.interval))}),e=this.addMinutes(e,Number(this.interval));return c},addMinutes(t,n){const[r,c]=t.split(":").map(Number),e=r*60+c+n,d=Math.floor(e/60),s=e%60;return`${this.padZero(d)}:${this.padZero(s)}:00`},padZero(t){return t.toString().padStart(2,"0")},async getSavedTimes(){this.savedTimes=[];for(const t of this.days){const n=t.disable?[]:this.getTimeWithInterval(t.text,t.start_time1,t.end_time1),r=t.disable?[]:this.getTimeWithInterval(t.text,t.start_time2,t.end_time2);this.savedTimes.push(...n.concat(r))}await p(this.savedTimes),this.showSavedMessage=!0}}},V={class:"create-container"},M={class:"window"},S=i("h3",null,"Indiquer vos horaires",-1),U={class:"create-interval-container"},k=i("label",{class:"label"},"Durée de vos rendez-vous",-1),D=i("option",{value:"15"},"15 min",-1),N=i("option",{selected:"",value:"30"},"30 min",-1),C=i("option",{value:"45"},"45 min",-1),I=i("option",{value:"60"},"60 min",-1),A=[D,N,C,I],B={class:"box"},E=i("h4",null,"Disponibilité",-1),W={class:"create-days-container"},Z={class:"label create-day-label"},F={class:"create-times-container"},L={class:"create-time-container"},q=["disabled","onUpdate:modelValue"],z=["value","selected"],H=i("span",null,"-",-1),J=["disabled","onUpdate:modelValue"],j=["value","selected"],G={class:"create-time-container"},K=["disabled","onUpdate:modelValue"],O=["value","selected"],P=i("span",null,"-",-1),Q=["disabled","onUpdate:modelValue"],R=["value","selected"],X={class:"create-checkbox-container"},Y=["for"],$=["id","onUpdate:modelValue"],ee={class:"create-footer"},te={key:0};function se(t,n,r,c,e,d){return o(),l("div",V,[i("div",M,[S,i("div",U,[k,_(i("select",{class:"select","onUpdate:modelValue":n[0]||(n[0]=s=>e.interval=s)},A,512),[[m,e.interval]])]),i("div",B,[E,(o(!0),l(u,null,h(e.days,(s,v)=>(o(),l("div",W,[i("label",Z,f(s.frenchiesText),1),i("div",F,[i("div",L,[_(i("select",{class:"select",disabled:s.disable,"onUpdate:modelValue":a=>s.start_time1=a},[(o(!0),l(u,null,h(e.times,a=>(o(),l("option",{value:a,selected:a==="09:00:00"},f(a.slice(0,5)),9,z))),256))],8,q),[[m,s.start_time1]]),H,_(i("select",{class:"select",disabled:s.disable,"onUpdate:modelValue":a=>s.end_time1=a},[(o(!0),l(u,null,h(e.times,a=>(o(),l("option",{value:a,selected:a==="12:00:00"},f(a.slice(0,5)),9,j))),256))],8,J),[[m,s.end_time1]])]),i("div",G,[_(i("select",{class:"select",disabled:s.disable,"onUpdate:modelValue":a=>s.start_time2=a},[(o(!0),l(u,null,h(e.times,a=>(o(),l("option",{value:a,selected:a==="13:00:00"},f(a.slice(0,5)),9,O))),256))],8,K),[[m,s.start_time2]]),P,_(i("select",{class:"select",disabled:s.disable,"onUpdate:modelValue":a=>s.end_time2=a},[(o(!0),l(u,null,h(e.times,a=>(o(),l("option",{value:a,selected:a==="17:00:00"},f(a.slice(0,5)),9,R))),256))],8,Q),[[m,s.end_time2]])])]),i("div",X,[i("label",{class:"label",for:"checkbox-"+v},"Absent",8,Y),_(i("input",{type:"checkbox",id:"checkbox-"+v,"onUpdate:modelValue":a=>s.disable=a},null,8,$),[[g,s.disable]])])]))),256)),i("div",ee,[i("button",{class:"button",onClick:n[1]||(n[1]=y(s=>d.getSavedTimes(),["prevent"]))},"Enregistrer"),e.showSavedMessage?(o(),l("div",te,"Vos horaires ont été enregistrés")):x("",!0)])])])])}const ne=T(w,[["render",se]]);export{ne as default};
